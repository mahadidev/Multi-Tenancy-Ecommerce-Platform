import{j as a,O as y,B as _,R as x,a as c,r as m,c as S}from"./chunk-K6AXKMTT-DZy3nHUu.js";import{f as T,G as f,c as u,a as j,p as A,b as P,d as b,e as w,u as R,g as k,s as E,C as M,P as J}from"./index-lNMMapX6.js";const L=T({baseUrl:f,prepareHeaders:e=>(e.set("accept","application/json"),e)}),i=({url:e,method:t="GET",body:s,apiMethod:r})=>r?{url:e,method:t,body:{...s,_method:r}}:{url:e,method:t,body:s},F={themes:[],theme:null},h=u({name:"theme",initialState:F,reducers:{setThemes:(e,t)=>{e.themes=t.payload},setTheme:(e,t)=>{e.theme=t.payload},clearTheme:e=>{e.themes=[],e.theme=null}}}),{setThemes:q,setTheme:B,clearTheme:Z}=h.actions,O=h.reducer,n=j({reducerPath:"themeApi",baseQuery:L,tagTypes:["Themes"],endpoints:e=>({fetchThemes:e.query({query:t=>i({url:"/themes",method:"get",body:t}),providesTags:["Themes"],transformErrorResponse:t=>t.data,async onQueryStarted(t,{dispatch:s,queryFulfilled:r}){await r.then(o=>{s(q(o.data.data.themes))})}}),fetchTheme:e.query({query:t=>i({method:"get",url:`/themes/${t.idOrSlug}`}),transformErrorResponse:t=>t.data,async onQueryStarted(t,{dispatch:s,queryFulfilled:r}){await r.then(o=>{s(B(o.data.data.theme))})}})})}),{useFetchThemesQuery:ee,useFetchThemeQuery:Q}=n,$=[{id:9,store_id:3,name:"sdadsa",slug:"sdadsa",type:"product",has_parent:null,created_at:"22 Jan, 2025 | 05:30 PM",updated_at:"22 Jan, 2025 | 05:53 PM"},{id:8,store_id:3,name:"Danish Ahmed",slug:"danish-ahmed",type:"product",has_parent:{id:8,store_id:3,name:"Danish Ahmed",slug:"danish-ahmed",type:"product",created_at:"22 Jan, 2025 | 05:29 PM",updated_at:"22 Jan, 2025 | 05:52 PM",has_parent:null},created_at:"22 Jan, 2025 | 05:29 PM",updated_at:"22 Jan, 2025 | 05:52 PM"}],p={id:3,name:"Kacha Bazar",slug:"kacha-bazar",domain:"https://chologori-builder.test.com/stores/kacha-bazar",email:null,phone:null,location:null,status:1,type:"e-commerce",description:null,currency:"BDT",logo:"http://chologori-builder.test/storage/file_storage/6790ec398797c_1737550905.png",dark_logo:null,primary_color:null,secondary_color:null,theme_id:1,settings:null,categories:$,social_media:[{id:1,name:"facebook",label:"Facebook",username:"chologori",url:"https://www.facebook.com/",store_id:3,created_at:"24 Jan, 2025 | 02:22 AM",updated_at:"24 Jan, 2025 | 02:22 AM"}],created_at:"22 Jan, 2025 | 01:01 PM",updated_at:"22 Jan, 2025 | 01:01 PM",theme:null},C={store:p},D=u({name:"store",initialState:C,reducers:{setStore:(e,t)=>{e.store=t.payload},clearStore:e=>{e.store=null}}}),G=D.reducer,z={key:"themes",blacklist:["themeApi"],storage:E,version:0},U=A(z,P({theme:O,store:G,[n.reducerPath]:n.reducer})),g=b({reducer:U,middleware:e=>e({serializableCheck:!1}).concat([n.middleware])});w(g);R.withTypes();const v=k.withTypes(),I=window.document;var l;const N=(l=I.head.querySelector('meta[name="theme-slug"]'))==null?void 0:l.content,H=()=>{const{isLoading:e}=Q({idOrSlug:N}),{theme:t}=v(s=>s.theme);return{fetchTheme:{isLoading:e},theme:t}},K=()=>a.jsx("main",{className:"bg-gray-100",children:a.jsx(y,{})}),d="dokan",V=function(e){var t;return a.jsx(a.Fragment,{children:(t=e.widgets)==null?void 0:t.map((s,r)=>a.jsx(a.Fragment,{children:a.jsx(M,{store:p,widget:s},r)}))})},W=function(){const{theme:e,fetchTheme:t}=H();return a.jsx(a.Fragment,{children:a.jsx(_,{basename:`/themes/${d}`,children:e?a.jsx(a.Fragment,{children:a.jsx(x,{children:e.pages.length>0?e==null?void 0:e.pages.map((s,r)=>a.jsx(c,{path:"/",element:a.jsx(K,{}),children:a.jsx(c,{path:s.type.type==="home"?"/":s.slug,index:!0,element:m.createElement(V,{...s,key:r})},r)})):a.jsx(c,{index:!0,element:a.jsx("h1",{children:"No page created."})})})}):a.jsx(a.Fragment,{children:t.isLoading&&"loading.."})})})};document.getElementById(d)&&S.createRoot(document.getElementById(d)).render(a.jsx(J,{store:g,children:a.jsx(m.StrictMode,{children:a.jsx(W,{})})}));
