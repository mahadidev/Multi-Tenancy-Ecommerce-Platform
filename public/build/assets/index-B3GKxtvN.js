import{j as e,r as o,B as l,R as h,a as u,c as p}from"./chunk-K6AXKMTT-hBQOCvDY.js";import{f as g,a as x,p as y,b as f,d as j,e as R,u as b,g as E,s as P,P as T}from"./rtk-query-react.modern-BjIlHpsZ.js";import{b as w,C as A}from"./index-ghwm_Znk.js";const F=g({baseUrl:w,prepareHeaders:s=>(s.set("accept","application/json"),s)}),S=async(s,t,r)=>await F(s,t,r),B=({url:s,method:t="GET",body:r})=>({url:s,method:t,body:r}),C="/themes",n=x({reducerPath:"themeApi",baseQuery:S,tagTypes:["Pages"],endpoints:s=>({fetchTheme:s.query({query:t=>B({method:"get",url:`${C}/${t}`})})})}),{useFetchThemeQuery:Q}=n,I={key:"themes",blacklist:["themeApi"],storage:P,version:0},k=y(I,f({[n.reducerPath]:n.reducer})),d=j({reducer:k,middleware:s=>s({serializableCheck:!1}).concat([n.middleware])});R(d);b.withTypes();E.withTypes();const i={slug:"simfy-commerce",name:"Simfy Commerce"},q=({data:s})=>{var t;return e.jsx(e.Fragment,{children:(t=s.widgets)==null?void 0:t.map((r,a)=>e.jsx(e.Fragment,{children:e.jsx(A,{data:r},a)}))})};function _(){const{data:s,isLoading:t}=Q(i.slug),[r,a]=o.useState(null);return o.useEffect(()=>{s&&a(s.data.theme)},[t,s]),e.jsx("main",{className:"bg-gray-100 min-h-screen",children:e.jsx(l,{basename:"/themes/simfy-commerce",children:r?e.jsx(e.Fragment,{children:e.jsx(h,{children:r.pages.length>0?r==null?void 0:r.pages.map((c,m)=>e.jsx(u,{path:c.type.type==="home"?"/":c.slug,index:!0,element:e.jsx(q,{data:c},m)},m)):e.jsx(u,{index:!0,element:e.jsx("h1",{children:"No page created."})})})}):e.jsx(e.Fragment,{children:t&&"loading.."})})})}document.getElementById(i.slug)&&p.createRoot(document.getElementById(i.slug)).render(e.jsx(T,{store:d,children:e.jsx(o.StrictMode,{children:e.jsx(_,{})})}));
