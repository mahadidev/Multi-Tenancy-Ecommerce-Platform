import{f as u,c as l,a as p,p as d,b,d as P,e as y,u as S,g as h,s as f}from"./index.esm-qHV_nFZj.js";const m=u({baseUrl:"http://127.0.0.1:8000/api/v1",prepareHeaders:s=>(s.set("accept","application/json"),s)}),g=({url:s,method:e="GET",body:t,apiMethod:a})=>a?{url:s,method:e,body:{...t,_method:a}}:{url:s,method:e,body:t},A={plans:null},o=l({name:"subscriptionPlan",initialState:A,reducers:{setPlans:(s,e)=>{s.plans=e.payload},clearPlans:s=>{s.plans=null}}}),{setPlans:R,clearPlans:C}=o.actions,w=o.reducer,n=p({reducerPath:"subscriptionPlansApi",baseQuery:m,tagTypes:["Subscription"],endpoints:s=>({fetchPlans:s.query({query:e=>g({url:"/subscription-plans",method:"get",body:e}),providesTags:["Subscription"],transformErrorResponse:e=>e.data,async onQueryStarted(e,{dispatch:t,queryFulfilled:a}){await a.then(r=>{var c,i;console.log({responseFromRedux:r}),t(R((i=(c=r==null?void 0:r.data)==null?void 0:c.data)==null?void 0:i.subscriptions))})}})})}),{useFetchPlansQuery:T}=n,q={key:"frontend",blacklist:["subscriptionPlansApi"],storage:f,version:0},Q=d(q,b({plans:w,[n.reducerPath]:n.reducer})),k=P({reducer:Q,middleware:s=>s({serializableCheck:!1}).concat([n.middleware])});y(k);S.withTypes();const v=h.withTypes(),E=()=>{T();const{plans:s}=v(e=>e.plans);return{plans:s}};export{k as s,E as u};
