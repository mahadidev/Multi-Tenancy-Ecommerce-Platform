import{j as a,B as _,R as y,a as l,O as g,c as F,r as P}from"./chunk-K6AXKMTT-DJhFqiHr.js";import{f as M,G as T,c as m,a as S,p as f,b as x,d as j,e as L,u as A,g as w,s as O,r as o,P as R}from"./registeredTheme-Ct7kUZ6P.js";const E=M({baseUrl:T,prepareHeaders:t=>(t.set("accept","application/json"),t)}),u=({url:t,method:e="GET",body:r,apiMethod:s})=>s?{url:t,method:e,body:{...r,_method:s}}:{url:t,method:e,body:r},U={themes:[],theme:null},h=m({name:"theme",initialState:U,reducers:{setThemes:(t,e)=>{t.themes=e.payload},setTheme:(t,e)=>{t.theme=e.payload},clearTheme:t=>{t.themes=[],t.theme=null}}}),{setThemes:q,setTheme:v,clearTheme:V}=h.actions,G=h.reducer,i=S({reducerPath:"themeApi",baseQuery:E,tagTypes:["Themes"],endpoints:t=>({fetchThemes:t.query({query:e=>u({url:"/themes",method:"get",body:e}),providesTags:["Themes"],transformErrorResponse:e=>e.data,async onQueryStarted(e,{dispatch:r,queryFulfilled:s}){await s.then(d=>{r(q(d.data.data.themes))})}}),fetchTheme:t.query({query:e=>u({method:"get",url:`/themes/${e.idOrSlug}`}),transformErrorResponse:e=>e.data,async onQueryStarted(e,{dispatch:r,queryFulfilled:s}){await s.then(d=>{r(v(d.data.data.theme))})}})})}),{useFetchThemesQuery:X,useFetchThemeQuery:Y}=i,k={id:2,name:"Kings Man",slug:"kings-man",domain:"https://chologori-builder.test/sites/kings-man",email:null,phone:null,location:null,status:1,type:null,description:null,currency:"BDT",logo:"http://chologori-builder.test/storage/file_storage/67ab556cdb9aa_1739281772.png",dark_logo:null,primary_color:null,secondary_color:null,store_type:{id:12,label:"Gift Shop",type:"gift-shop",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},theme_id:1,theme:{id:1,name:"Simfy",slug:"simfy",thumbnail:null,widgets:[{id:1,theme_id:1,name:"layout",label:"Layout",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},{id:2,theme_id:1,name:"navigation",label:"Navigation",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},{id:3,theme_id:1,name:"footer",label:"Footer",serial:0,is_editable:!0,type:{id:2,type:"layout-widget",label:"LAYOUT-WIDGET",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"}],pages:[{id:1,name:"home",slug:"/",title:"Home Page",theme_id:1,layout:{id:1,theme_id:1,name:"layout",label:"Layout",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},is_active:1,type:{id:1,type:"home",label:"Home",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},widgets:[{id:1,theme_page_id:1,name:"hero",label:"Hero Section",serial:1,is_editable:!1,type:{id:3,type:"section",label:"SECTION",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"}],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"}]},settings:null,social_media:[],categories:[],brands:[],widgets:[{id:4,store_id:2,name:"layout",label:"Layout",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:49 PM",updated_at:"11 Feb, 2025 | 01:49 PM"},{id:5,store_id:2,name:"navigation",label:"Navigation",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:49 PM",updated_at:"11 Feb, 2025 | 01:49 PM"},{id:6,store_id:2,name:"footer",label:"Footer",serial:0,is_editable:!0,type:{id:2,type:"layout-widget",label:"LAYOUT-WIDGET",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:49 PM",updated_at:"11 Feb, 2025 | 01:49 PM"}],pages:[],menus:[],created_at:"11 Feb, 2025 | 01:49 PM",updated_at:"11 Feb, 2025 | 01:49 PM"},B={store:k},Q=m({name:"store",initialState:B,reducers:{setStore:(t,e)=>{t.store=e.payload},clearStore:t=>{t.store=null}}}),$=Q.reducer,H={key:"themes",blacklist:["themeApi","theme"],storage:O,version:0},I=f(H,x({theme:G,store:$,[i.reducerPath]:i.reducer})),p=j({reducer:I,middleware:t=>t({serializableCheck:!1}).concat([i.middleware])});L(p);A.withTypes();const b=w.withTypes(),D=()=>{const{store:t}=b(e=>e.store);return{store:t}},N=window.document;var c;const n=(c=N.head.querySelector('meta[name="theme-slug"]'))==null?void 0:c.content,C=()=>{const{isLoading:t}=Y({idOrSlug:n}),{theme:e}=b(r=>r.theme);return{fetchTheme:{isLoading:t},theme:e}},W=function({page:t,store:e,theme:r}){return a.jsx(a.Fragment,{children:t.widgets.map(s=>{var d;return(d=o[r.name])==null?void 0:d.widget({widget:s,store:e})})})},z=()=>{const{fetchTheme:t,theme:e}=C(),{store:r}=D();return a.jsx(a.Fragment,{children:a.jsx(_,{basename:`/themes/${n}`,children:e&&r?a.jsx(y,{children:e.pages.map(s=>{var d;return a.jsx(a.Fragment,{children:a.jsx(l,{path:"/",element:a.jsx(a.Fragment,{children:s.layout?o[e.name]?(d=o[e.name])==null?void 0:d.layout({store:r,layout:s.layout}):a.jsx("h1",{children:"Layout not found."}):a.jsx(g,{})}),children:a.jsx(l,{path:s.type.type==="home"?"/":s.slug,index:!0,element:a.jsx(W,{store:r,theme:e,page:s})})},s.id)})})}):a.jsx(a.Fragment,{children:t.isLoading?a.jsx("h1",{children:"Loading"}):a.jsxs("h1",{children:['"',n,'" theme Not found']})})})})};F.createRoot(document.getElementById("root")).render(a.jsx(R,{store:p,children:a.jsx(P.StrictMode,{children:a.jsx(z,{})})}));
