import{f as g,G as y,c as h,a as S,p as T,b as f,d as x,e as _,u as j,g as b,s as A,j as s,O as w,r as i,C as R,B as E,R as k,h as c,i as P,P as F}from"./index-Da-poxsg.js";const L=g({baseUrl:y,prepareHeaders:e=>(e.set("accept","application/json"),e)}),m=({url:e,method:t="GET",body:r,apiMethod:a})=>a?{url:e,method:t,body:{...r,_method:a}}:{url:e,method:t,body:r},q={themes:[],theme:null},d=h({name:"theme",initialState:q,reducers:{setThemes:(e,t)=>{e.themes=t.payload},setTheme:(e,t)=>{e.theme=t.payload},clearTheme:e=>{e.themes=[],e.theme=null}}}),{setThemes:B,setTheme:O,clearTheme:X}=d.actions,Q=d.reducer,n=S({reducerPath:"themeApi",baseQuery:L,tagTypes:["Themes"],endpoints:e=>({fetchThemes:e.query({query:t=>m({url:"/themes",method:"get",body:t}),providesTags:["Themes"],transformErrorResponse:t=>t.data,async onQueryStarted(t,{dispatch:r,queryFulfilled:a}){await a.then(o=>{r(B(o.data.data.themes))})}}),fetchTheme:e.query({query:t=>m({method:"get",url:`/themes/${t.idOrSlug}`}),transformErrorResponse:t=>t.data,async onQueryStarted(t,{dispatch:r,queryFulfilled:a}){await a.then(o=>{r(O(o.data.data.theme))})}})})}),{useFetchThemesQuery:Y,useFetchThemeQuery:G}=n,M={id:3,name:"Kacha Bazar",slug:"kacha-bazar",domain:"https://chologori-builder.test.com/stores/kacha-bazar",email:null,phone:null,location:null,status:1,type:"e-commerce",description:null,currency:"BDT",logo:"http://chologori-builder.test/storage/file_storage/6790ec398797c_1737550905.png",dark_logo:null,primary_color:null,secondary_color:null,theme_id:1,settings:null,social_media:[{id:1,name:"facebook",label:"Facebook",username:"chologori",url:"https://www.facebook.com/",store_id:3,created_at:"24 Jan, 2025 | 02:22 AM",updated_at:"24 Jan, 2025 | 02:22 AM"}],created_at:"22 Jan, 2025 | 01:01 PM",updated_at:"22 Jan, 2025 | 01:01 PM",theme:null},$={store:M},z=h({name:"store",initialState:$,reducers:{setStore:(e,t)=>{e.store=t.payload},clearStore:e=>{e.store=null}}}),C=z.reducer,J={key:"themes",blacklist:["themeApi"],storage:A,version:0},U=T(J,f({theme:Q,store:C,[n.reducerPath]:n.reducer})),p=x({reducer:U,middleware:e=>e({serializableCheck:!1}).concat([n.middleware])});_(p);j.withTypes();const v=b.withTypes(),D=window.document;var u;const I=(u=D.head.querySelector('meta[name="theme-slug"]'))==null?void 0:u.content,H=()=>{const{isLoading:e}=G({idOrSlug:I}),{theme:t}=v(r=>r.theme);return{fetchTheme:{isLoading:e},theme:t}},K=()=>s.jsx(s.Fragment,{children:s.jsx(w,{})}),N=function(e){var t;return s.jsx(s.Fragment,{children:(t=e.widgets)==null?void 0:t.map((r,a)=>s.jsx(s.Fragment,{children:i.createElement(R,{...r,key:a})}))})},V=function(){const{theme:e,fetchTheme:t}=H();return s.jsx(s.Fragment,{children:s.jsx(E,{basename:"/themes/simfy-commerce",children:e?s.jsx(s.Fragment,{children:s.jsx(k,{children:e.pages.length>0?e==null?void 0:e.pages.map((r,a)=>s.jsx(c,{path:"/",element:s.jsx(K,{}),children:s.jsx(c,{path:r.type.type==="home"?"/":r.slug,index:!0,element:i.createElement(N,{...r,key:a})},a)})):s.jsx(c,{index:!0,element:s.jsx("h1",{children:"No page created."})})})}):s.jsx(s.Fragment,{children:t.isLoading&&"loading.."})})})},l="simfy-commerce";document.getElementById(l)&&P.createRoot(document.getElementById(l)).render(s.jsx(F,{store:p,children:s.jsx(i.StrictMode,{children:s.jsx(V,{})})}));
