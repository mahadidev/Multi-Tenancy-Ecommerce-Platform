import{j as e,r as o,B as l,R as h,a as m,c as p}from"./chunk-K6AXKMTT-DxWSuimp.js";import{f as g,i as x,a as j,p as y,b as f,d as R,e as b,u as E,g as P,s as T,C as w,P as A}from"./index-CM8gDC9_.js";const F=g({baseUrl:x,prepareHeaders:s=>(s.set("accept","application/json"),s)}),S=async(s,r,t)=>await F(s,r,t),B=({url:s,method:r="GET",body:t})=>({url:s,method:r,body:t}),C="/themes",n=j({reducerPath:"themeApi",baseQuery:S,tagTypes:["Pages"],endpoints:s=>({fetchTheme:s.query({query:r=>B({method:"get",url:`${C}/${r}`})})})}),{useFetchThemeQuery:Q}=n,I={key:"themes",blacklist:["themeApi"],storage:T,version:0},k=y(I,f({[n.reducerPath]:n.reducer})),d=R({reducer:k,middleware:s=>s({serializableCheck:!1}).concat([n.middleware])});b(d);E.withTypes();P.withTypes();const i={slug:"simfy-commerce",name:"Simfy Commerce"},q=({data:s})=>{var r;return e.jsx(e.Fragment,{children:(r=s.widgets)==null?void 0:r.map((t,a)=>e.jsx(e.Fragment,{children:e.jsx(w,{data:t},a)}))})};function _(){const{data:s,isLoading:r}=Q(i.slug),[t,a]=o.useState(null);return o.useEffect(()=>{s&&(a(s.data.theme),console.log(s.data.theme))},[r,s]),e.jsx("main",{className:"bg-gray-100 min-h-screen",children:e.jsx(l,{basename:"/themes/simfy-commerce",children:s?e.jsx(e.Fragment,{children:e.jsx(h,{children:(t==null?void 0:t.pages.length)>0?t==null?void 0:t.pages.map((c,u)=>e.jsx(m,{path:c.slug==="home"?"/":c.slug,index:!0,element:e.jsx(q,{data:c},u)},u)):e.jsx(m,{index:!0,element:e.jsx("h1",{children:"No page created."})})})}):e.jsx(e.Fragment,{children:r&&"loading.."})})})}document.getElementById(i.slug)&&p.createRoot(document.getElementById(i.slug)).render(e.jsx(A,{store:d,children:e.jsx(o.StrictMode,{children:e.jsx(_,{})})}));
