import{j as a,B as _,R as y,a as n,c as g,r as P}from"./chunk-K6AXKMTT-DJhFqiHr.js";import{f as F,G as M,c,a as T,p as S,b as f,d as x,e as L,u as A,g as j,s as w,r as m,P as R}from"./registeredTheme-CJj1qh3O.js";const E=F({baseUrl:M,prepareHeaders:e=>(e.set("accept","application/json"),e)}),l=({url:e,method:t="GET",body:s,apiMethod:r})=>r?{url:e,method:t,body:{...s,_method:r}}:{url:e,method:t,body:s},O={themes:[],theme:null},p=c({name:"theme",initialState:O,reducers:{setThemes:(e,t)=>{e.themes=t.payload},setTheme:(e,t)=>{e.theme=t.payload},clearTheme:e=>{e.themes=[],e.theme=null}}}),{setThemes:U,setTheme:q,clearTheme:J}=p.actions,v=p.reducer,d=T({reducerPath:"themeApi",baseQuery:E,tagTypes:["Themes"],endpoints:e=>({fetchThemes:e.query({query:t=>l({url:"/themes",method:"get",body:t}),providesTags:["Themes"],transformErrorResponse:t=>t.data,async onQueryStarted(t,{dispatch:s,queryFulfilled:r}){await r.then(i=>{s(U(i.data.data.themes))})}}),fetchTheme:e.query({query:t=>l({method:"get",url:`/themes/${t.idOrSlug}`}),transformErrorResponse:t=>t.data,async onQueryStarted(t,{dispatch:s,queryFulfilled:r}){await r.then(i=>{s(q(i.data.data.theme))})}})})}),{useFetchThemesQuery:V,useFetchThemeQuery:G}=d,Y={id:2,name:"Kings Man",slug:"kings-man",domain:"https://chologori-builder.test/sites/kings-man",email:null,phone:null,location:null,status:1,type:null,description:null,currency:"BDT",logo:"http://chologori-builder.test/storage/file_storage/67ab556cdb9aa_1739281772.png",dark_logo:null,primary_color:null,secondary_color:null,store_type:{id:12,label:"Gift Shop",type:"gift-shop",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},theme_id:1,theme:{id:1,name:"Simfy",slug:"simfy",thumbnail:null,widgets:[{id:1,theme_id:1,name:"layout",label:"Layout",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},{id:2,theme_id:1,name:"navigation",label:"Navigation",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},{id:3,theme_id:1,name:"footer",label:"Footer",serial:0,is_editable:!0,type:{id:2,type:"layout-widget",label:"LAYOUT-WIDGET",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"}],pages:[{id:1,name:"home",slug:"/",title:"Home Page",theme_id:1,layout:{id:1,theme_id:1,name:"layout",label:"Layout",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},is_active:1,type:{id:1,type:"home",label:"Home",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},widgets:[{id:1,theme_page_id:1,name:"hero",label:"Hero Section",serial:1,is_editable:!1,type:{id:3,type:"section",label:"SECTION",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"}],created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"}]},settings:null,social_media:[],categories:[],brands:[],widgets:[{id:4,store_id:2,name:"layout",label:"Layout",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:49 PM",updated_at:"11 Feb, 2025 | 01:49 PM"},{id:5,store_id:2,name:"navigation",label:"Navigation",serial:0,is_editable:!0,type:{id:1,type:"layout",label:"LAYOUT",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:49 PM",updated_at:"11 Feb, 2025 | 01:49 PM"},{id:6,store_id:2,name:"footer",label:"Footer",serial:0,is_editable:!0,type:{id:2,type:"layout-widget",label:"LAYOUT-WIDGET",created_at:"11 Feb, 2025 | 01:48 PM",updated_at:"11 Feb, 2025 | 01:48 PM"},inputs:[],created_at:"11 Feb, 2025 | 01:49 PM",updated_at:"11 Feb, 2025 | 01:49 PM"}],pages:[],menus:[],created_at:"11 Feb, 2025 | 01:49 PM",updated_at:"11 Feb, 2025 | 01:49 PM"},k={store:Y},B=c({name:"store",initialState:k,reducers:{setStore:(e,t)=>{e.store=t.payload},clearStore:e=>{e.store=null}}}),Q=B.reducer,$={key:"themes",blacklist:["themeApi","theme"],storage:w,version:0},H=S($,f({theme:v,store:Q,[d.reducerPath]:d.reducer})),h=x({reducer:H,middleware:e=>e({serializableCheck:!1}).concat([d.middleware])});L(h);A.withTypes();const b=j.withTypes(),I=()=>{const{store:e}=b(t=>t.store);return{store:e}},D=window.document;var u;const o=(u=D.head.querySelector('meta[name="theme-slug"]'))==null?void 0:u.content,N=()=>{const{isLoading:e}=G({idOrSlug:o}),{theme:t}=b(s=>s.theme);return{fetchTheme:{isLoading:e},theme:t}},C=function({page:e,store:t,theme:s}){return a.jsx(a.Fragment,{children:e.widgets.map(r=>{var i;return(i=m[s.name])==null?void 0:i.widget({widget:r,store:t})})})},W=()=>{const{fetchTheme:e,theme:t}=N(),{store:s}=I();return a.jsx(a.Fragment,{children:a.jsx(_,{basename:`/themes/${o}`,children:t&&s?a.jsx(y,{children:t.pages.map(r=>{var i;return a.jsx(a.Fragment,{children:a.jsx(n,{path:"/",element:(i=m[t.slug])==null?void 0:i.layout({store:s,layout:r.layout}),children:a.jsx(n,{path:r.slug,index:!0,element:a.jsx(C,{store:s,page:r,theme:t})})})})})}):a.jsx(a.Fragment,{children:e.isLoading?a.jsx("h1",{children:"Loading"}):a.jsxs("h1",{children:['"',o,'" theme Not found']})})})})};g.createRoot(document.getElementById("root")).render(a.jsx(R,{store:h,children:a.jsx(P.StrictMode,{children:a.jsx(W,{})})}));
